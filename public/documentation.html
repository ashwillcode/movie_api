<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Movie API Documentation</title>
</head>
<body>
    <h1>Movie API Documentation</h1>
    <p>A RESTful API for managing movie information and user preferences.</p>

    <h2>Authentication</h2>
    <p>All endpoints except user registration and login require JWT authentication. Include the JWT token in the Authorization header:</p>
    <pre>Authorization: Bearer your-jwt-token</pre>

    <h2>Endpoints</h2>

    <h3>User Authentication</h3>
    <h4>POST /login</h4>
    <p><strong>Description:</strong> Authenticate user and get JWT token</p>
    <p><strong>Body:</strong></p>
    <pre>
{
    "Username": "yourUsername",
    "Password": "yourPassword"
}
    </pre>
    <p><strong>Response:</strong></p>
    <pre>
{
    "user": {
        "_id": "user_id",
        "Username": "username",
        "Email": "email",
        "FavoriteMovies": []
    },
    "token": "jwt_token"
}
    </pre>

    <h4>POST /users</h4>
    <p><strong>Description:</strong> Register new user</p>
    <p><strong>Body:</strong></p>
    <pre>
{
    "Username": "yourUsername",
    "Password": "yourPassword123!",
    "Email": "your@email.com",
    "Birthday": "1990-01-01"
}
    </pre>
    <p><strong>Validation:</strong></p>
    <ul>
        <li>Username: 3-30 characters, alphanumeric</li>
        <li>Password: Minimum 8 characters, must include letter, number, and special character</li>
        <li>Email: Valid email format</li>
        <li>Birthday: ISO date format (optional)</li>
    </ul>

    <h3>Movies</h3>
    <h4>GET /movies</h4>
    <p><strong>Description:</strong> Get all movies</p>
    <p><strong>Authentication:</strong> Required</p>

    <h4>GET /movies/:id</h4>
    <p><strong>Description:</strong> Get movie by ID</p>
    <p><strong>Authentication:</strong> Required</p>

    <h4>GET /movies/genre/:genreName</h4>
    <p><strong>Description:</strong> Get movies by genre</p>
    <p><strong>Authentication:</strong> Required</p>

    <h4>GET /movies/director/:directorName</h4>
    <p><strong>Description:</strong> Get movies by director</p>
    <p><strong>Authentication:</strong> Required</p>

    <h3>User Operations</h3>
    <h4>GET /users</h4>
    <p><strong>Description:</strong> Get all users</p>
    <p><strong>Authentication:</strong> Required</p>

    <h4>GET /users/:username</h4>
    <p><strong>Description:</strong> Get user by username</p>
    <p><strong>Authentication:</strong> Required</p>

    <h4>PUT /users/:username</h4>
    <p><strong>Description:</strong> Update user information</p>
    <p><strong>Authentication:</strong> Required</p>
    <p><strong>Body:</strong></p>
    <pre>
{
    "Username": "newUsername",
    "Password": "newPassword123!",
    "Email": "new@email.com",
    "Birthday": "1990-01-01"
}
    </pre>

    <h4>DELETE /users/:username</h4>
    <p><strong>Description:</strong> Delete user account</p>
    <p><strong>Authentication:</strong> Required</p>

    <h4>POST /users/:username/favorites</h4>
    <p><strong>Description:</strong> Add movie to favorites</p>
    <p><strong>Authentication:</strong> Required</p>
    <p><strong>Body:</strong></p>
    <pre>
{
    "movieId": "movie_id"
}
    </pre>

    <h4>DELETE /users/:username/favorites/:movieId</h4>
    <p><strong>Description:</strong> Remove movie from favorites</p>
    <p><strong>Authentication:</strong> Required</p>

    <h2>Error Responses</h2>
    <p>The API uses standard HTTP response codes:</p>
    <ul>
        <li>200: Success</li>
        <li>201: Created</li>
        <li>400: Bad Request</li>
        <li>401: Unauthorized</li>
        <li>404: Not Found</li>
        <li>500: Internal Server Error</li>
    </ul>
</body>
</html>